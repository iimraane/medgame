// ─── Levels Definition ──────────────────────────────────────────
// Each level defines: difficulty, number of modifiers to pick,
// which card pool is available, and unlock conditions.

export const LEVELS = [
    // ── BEGINNER (1-3) ──
    {
        id: 1,
        name: 'Premier Jour',
        description: 'Un patient simple avec un problème courant. Prenez vos marques !',
        difficulty: 'debutant',
        modifierCount: 3,
        cardPool: ['rhume', 'grippe'],
        possibleConditions: ['rhume', 'grippe'],
        maxMessages: 20,
        unlockPerk: null,
    },
    {
        id: 2,
        name: 'Les Bases',
        description: 'Le patient peut avoir des questions simples. Restez attentif.',
        difficulty: 'debutant',
        modifierCount: 3,
        cardPool: ['rhume', 'grippe', 'allergie_saisonniere', 'migraine'],
        possibleConditions: ['allergie_saisonniere', 'migraine'],
        maxMessages: 20,
        unlockPerk: 'fichePatient',
    },
    {
        id: 3,
        name: 'Premiers Défis',
        description: 'Les patients commencent à avoir une personnalité plus marquée.',
        difficulty: 'debutant',
        modifierCount: 4,
        cardPool: ['rhume', 'grippe', 'allergie_saisonniere', 'migraine', 'gastro_enterite'],
        possibleConditions: ['gastro_enterite', 'rhume', 'migraine'],
        maxMessages: 22,
        unlockPerk: null,
    },

    // ── EASY (4-7) ──
    {
        id: 4,
        name: 'Consultations Multiples',
        description: 'Deux symptômes possibles. Le patient est un peu stressé.',
        difficulty: 'facile',
        modifierCount: 4,
        cardPool: ['rhume', 'grippe', 'allergie_saisonniere', 'migraine', 'gastro_enterite', 'hypertension', 'angine'],
        possibleConditions: ['hypertension', 'angine'],
        maxMessages: 22,
        unlockPerk: 'reponsesRapides',
    },
    {
        id: 5,
        name: 'Questions Difficiles',
        description: 'Le patient pose des questions pointues. Soyez précis.',
        difficulty: 'facile',
        modifierCount: 5,
        cardPool: ['rhume', 'grippe', 'allergie_saisonniere', 'migraine', 'gastro_enterite', 'hypertension', 'angine', 'diabete_type2'],
        possibleConditions: ['diabete_type2', 'angine'],
        maxMessages: 24,
        unlockPerk: null,
    },
    {
        id: 6,
        name: 'Patients Inquiets',
        description: 'L\'anxiété du patient rend la consultation plus complexe.',
        difficulty: 'facile',
        modifierCount: 5,
        cardPool: ['hypertension', 'diabete_type2', 'asthme', 'angine', 'otite', 'migraine'],
        possibleConditions: ['asthme', 'otite'],
        maxMessages: 24,
        unlockPerk: 'analysesLaboratoire',
    },
    {
        id: 7,
        name: 'Diagnostic Différentiel',
        description: 'Les symptômes peuvent correspondre à plusieurs pathologies.',
        difficulty: 'facile',
        modifierCount: 5,
        cardPool: ['hypertension', 'diabete_type2', 'asthme', 'angine', 'otite', 'allergie_saisonniere', 'grippe', 'rhume'],
        possibleConditions: ['asthme', 'grippe', 'allergie_saisonniere'],
        maxMessages: 25,
        unlockPerk: null,
    },

    // ── MEDIUM (8-11) ──
    {
        id: 8,
        name: 'Patients Complexes',
        description: 'Personnalités marquées et symptômes multiples.',
        difficulty: 'moyen',
        modifierCount: 6,
        cardPool: ['depression', 'anxiete', 'lombalgie', 'hypertension', 'diabete_type2', 'asthme', 'migraine'],
        possibleConditions: ['depression', 'anxiete', 'lombalgie'],
        maxMessages: 26,
        unlockPerk: 'imagerieMedicale',
    },
    {
        id: 9,
        name: 'En Profondeur',
        description: 'Il faut creuser pour trouver la vraie cause.',
        difficulty: 'moyen',
        modifierCount: 6,
        cardPool: ['depression', 'anxiete', 'lombalgie', 'arthrite', 'dermatite', 'asthme', 'migraine'],
        possibleConditions: ['arthrite', 'dermatite'],
        maxMessages: 26,
        unlockPerk: null,
    },
    {
        id: 10,
        name: 'Patient Difficile',
        description: 'La communication est compliquée. Restez professionnel.',
        difficulty: 'moyen',
        modifierCount: 7,
        cardPool: ['depression', 'anxiete', 'lombalgie', 'arthrite', 'dermatite', 'hypertension', 'diabete_type2'],
        possibleConditions: ['depression', 'hypertension', 'diabete_type2'],
        maxMessages: 28,
        unlockPerk: 'pauseCafe',
    },
    {
        id: 11,
        name: 'Urgence Modérée',
        description: 'Le temps presse un peu. Priorisez vos questions.',
        difficulty: 'moyen',
        modifierCount: 7,
        cardPool: ['pneumonie', 'asthme', 'hypertension', 'anxiete', 'lombalgie', 'arthrite', 'otite'],
        possibleConditions: ['pneumonie', 'arthrite'],
        maxMessages: 28,
        unlockPerk: null,
    },

    // ── HARD (12-15) ──
    {
        id: 12,
        name: 'Consultations à Risque',
        description: 'Les pathologies sont plus graves. Attention aux signaux d\'alerte.',
        difficulty: 'difficile',
        modifierCount: 8,
        cardPool: ['pneumonie', 'thyroide', 'insuffisance_cardiaque', 'anemie', 'hypertension', 'diabete_type2', 'depression'],
        possibleConditions: ['thyroide', 'insuffisance_cardiaque'],
        maxMessages: 30,
        unlockPerk: 'antecedents',
    },
    {
        id: 13,
        name: 'Cas Sensibles',
        description: 'Sujets délicats. Tact et professionnalisme requis.',
        difficulty: 'difficile',
        modifierCount: 8,
        cardPool: ['ist', 'depression', 'anxiete', 'anemie', 'thyroide', 'dermatite'],
        possibleConditions: ['ist', 'anemie'],
        maxMessages: 30,
        unlockPerk: null,
    },
    {
        id: 14,
        name: 'Symptômes Trompeurs',
        description: 'Rien n\'est ce qu\'il semble être. Méfiez-vous des évidences.',
        difficulty: 'difficile',
        modifierCount: 8,
        cardPool: ['pneumonie', 'thyroide', 'insuffisance_cardiaque', 'anemie', 'ist', 'depression', 'asthme', 'lombalgie'],
        possibleConditions: ['insuffisance_cardiaque', 'thyroide', 'pneumonie'],
        maxMessages: 30,
        unlockPerk: 'indiceDiagnostic',
    },
    {
        id: 15,
        name: 'Le Grand Test',
        description: 'Un patient avec une situation médicale et psychologique complexe.',
        difficulty: 'difficile',
        modifierCount: 9,
        cardPool: ['pneumonie', 'thyroide', 'insuffisance_cardiaque', 'anemie', 'ist', 'depression', 'anxiete', 'hypertension', 'diabete_type2'],
        possibleConditions: ['anemie', 'depression', 'hypertension'],
        maxMessages: 32,
        unlockPerk: 'dossierPartage',
    },

    // ── EXPERT (16-18) ──
    {
        id: 16,
        name: 'Urgences Vitales',
        description: 'Des cas graves qui nécessitent une prise en charge rapide.',
        difficulty: 'expert',
        modifierCount: 9,
        cardPool: ['embolie_pulmonaire', 'avc', 'pneumonie', 'insuffisance_cardiaque', 'hypertension', 'diabete_type2'],
        possibleConditions: ['embolie_pulmonaire', 'avc'],
        maxMessages: 30,
        unlockPerk: 'avisConfrere',
    },
    {
        id: 17,
        name: 'Cas Critiques',
        description: 'Le patient peut être en déni. Chaque question compte.',
        difficulty: 'expert',
        modifierCount: 10,
        cardPool: ['embolie_pulmonaire', 'avc', 'meningite', 'pancreatite', 'pneumonie', 'insuffisance_cardiaque'],
        possibleConditions: ['meningite', 'pancreatite'],
        maxMessages: 30,
        unlockPerk: 'traitementEpreuve',
    },
    {
        id: 18,
        name: 'Sous Pression',
        description: 'Patients agressifs ou en panique. Gardez votre sang-froid.',
        difficulty: 'expert',
        modifierCount: 10,
        cardPool: ['embolie_pulmonaire', 'avc', 'meningite', 'pancreatite', 'pneumonie', 'insuffisance_cardiaque', 'thyroide'],
        possibleConditions: ['embolie_pulmonaire', 'meningite', 'pancreatite'],
        maxMessages: 32,
        unlockPerk: null,
    },

    // ── MASTER (19-20) ──
    {
        id: 19,
        name: 'Le Spécialiste',
        description: 'Maladies rares et complexes. Seuls les meilleurs y arrivent.',
        difficulty: 'maitre',
        modifierCount: 11,
        cardPool: ['lupus', 'sclerose_en_plaques', 'maladie_de_crohn', 'embolie_pulmonaire', 'meningite', 'avc', 'pancreatite'],
        possibleConditions: ['lupus', 'sclerose_en_plaques', 'maladie_de_crohn'],
        maxMessages: 35,
        unlockPerk: null,
    },
    {
        id: 20,
        name: 'Maître Docteur',
        description: 'Le défi ultime. Une consultation à très haut risque.',
        difficulty: 'maitre',
        modifierCount: 11,
        cardPool: ['lupus', 'sclerose_en_plaques', 'maladie_de_crohn', 'endocardite', 'embolie_pulmonaire', 'meningite', 'avc', 'pancreatite'],
        possibleConditions: ['endocardite', 'lupus', 'sclerose_en_plaques'],
        maxMessages: 35,
        unlockPerk: 'avisSpecialiste',
    },
];

export function getLevel(id) {
    return LEVELS.find((l) => l.id === id);
}
